@page "/Pacientes/Update/{PacienteId:int}";
@using Microsoft.AspNetCore.Authorization

@inherits UpdatePacientePage;

@attribute [Authorize(Roles = "Atendente")]

<PageTitle>Atualizar Paciente</PageTitle>

<MudText Typo="Typo.h5">Atualizar Paciente</MudText>

<MudPaper Class="pa-8 mt-4">
    <EditForm Model="@PacienteInputModel" OnValidSubmit="OnValidSubmitAsync">
        <DataAnnotationsValidator />

        <MudTextField Label="Nome*"
                      @bind-Value="PacienteInputModel.Nome"
                      For="@(() => PacienteInputModel.Nome)"
                      Variant="Variant.Outlined"/>

        <MudTextField Label="Documento*"
                      @bind-Value="PacienteInputModel.Documento"
                      For="@(() => PacienteInputModel.Documento)"
                      Mask="@(new PatternMask("000.000.000-00"))"
                      Variant="Variant.Outlined" />

        <MudTextField Label="Email*"
                      @bind-Value="PacienteInputModel.Email"
                      For="@(() => PacienteInputModel.Email)"
                      Variant="Variant.Outlined" />

        <MudTextField Label="Celular*"
                      @bind-Value="PacienteInputModel.Celular"
                      For="@(() => PacienteInputModel.Celular)"
                      Mask="@(new PatternMask("(00) 0 0000-0000"))"
                      Variant="Variant.Outlined" />

        <MudDatePicker Label="Data de Nascimento*"
                       Editable="false"
                       @bind-Date="DataNascimento"
                       MaxDate="@DateTime.Now"
                       Placeholder="Data de Nascimento"
                       Variant="Variant.Outlined" />

        <MudDivider Class="m-4" />

        <MudButton Variant="Variant.Filled" 
                   StartIcon="@Icons.Material.Filled.Save"
                   Color="Color.Info"
                   Size="Size.Large"
                   ButtonType="ButtonType.Submit">
            Atualizar
        </MudButton>
        <MudButton Variant="Variant.Filled" 
                   StartIcon="@Icons.Material.Filled.BackHand"
                   Color="Color.Error"
                   Size="Size.Large"
                   ButtonType="ButtonType.Button"
                   Href="/Pacientes">
            Voltar
        </MudButton>
    </EditForm>
</MudPaper>